@inherits HxDialogBase<GalleryFolder>

<HxModal Title="Select Folder" @ref="modal">
    <BodyTemplate>
        <MediaTree SelectedChanged="@FolderChanged"></MediaTree>
    </BodyTemplate>
    <FooterTemplate>
        <HxButton Text="@Text" Color="ThemeColor.Primary" OnClick="async () => await HideAsync(selectedFolder)" />
        <HxButton Text="Cancel" Color="ThemeColor.Secondary" OnClick="async () => await HideAsCancelledAsync()" />
    </FooterTemplate>
</HxModal>

@code {
    [Parameter]
    public string Text { get; set; } = "Select Folder";

    private GalleryFolder? selectedFolder;

    public void FolderChanged(GalleryFolder folder)
    {
        selectedFolder = folder;
    }
}
